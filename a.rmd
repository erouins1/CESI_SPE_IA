
---
title: "pas mal"
output: "html_document"
date: "2024-09-04"
---

```{r}
library(dplyr)
library(readr)
library(purrr)

```
```{r}

# List all cv files in the directory Data
csv_files <- fs::dir_ls("./RawData", regexp = "\\.csv$") # nolint: line_length_linter.

# Read all cv files
csv_data <- csv_files %>%
  map_dfr(read_csv)

# Afficher les premières lignes du nouveau RawData frame pour vérification
head(csv_data)
```
```{r}
data_d <- distinct(csv_data)
write.csv(data_d, "TreatedData/data.csv", row.names = FALSE)
```

## Première analyse des données
```{r}
df <- data_d
summary(df)
```

---
Nous avons 6 colonnes dans notre jeu de données, dont 5 sont numériques et 1 est catégorielle.

Il existe 10 valeurs différentes dans la colonne Parity, et les répartitions sont très inégales.
Il faudra garder cela en tête lors de l'analyse des résultats du modèle.

Dans un cadre éthique, nous vérifions la répartition de chaque sexe dans notre jeu de données.
---

```{r}
freq_sex <- table(df$Sex)
print(freq_sex)
```

---
Il y a une répartition égale entre les enfants de sexe masculin et féminin, ce qui est un bon signe pour l'analyse des données.

On supprime la colonne X qui est inutile
---

```{r}
if ("X" %in% names(df)) {
  df <- subset(df, select = -X)
}
```

---
On détermine le nombre de valeurs manquantes dans chaque colonne
---

```{r}
na_counts <- colSums(is.na(df))
print(na_counts)
```

---
Il n'y a aucune valeur manquante, on peut donc poursuivre l'analyse des données.
---

```{r}
boxplot(df$Maternal_age, main = "Maternal age", ylab = "Y-axis Label")
boxplot(df$Maternal_weight, main = "Maternal weight", ylab = "Y-axis Label")
boxplot(df$Maternal_height, main = "Maternal height", ylab = "Y-axis Label")
boxplot(df$Parity, main = "Parity", ylab = "Y-axis Label")
boxplot(df$Gestational_age, main = "Gestational age", ylab = "Y-axis Label")
boxplot(df$Weight, main = "Weight", ylab = "Y-axis Label")
```

---
Les deux dernières boites à moustache, l'une concernant le poids et l'autre l'âge gestationnel, démontrent une grande similitude.
On peut donc supposer une corrélation apparente.

Nous allons maintenant visualiser cette corrélation en utilisant un nuage de points. Cela nous permet de visuellement vérifier la présence de valeur aberrante pour le poids, ce qui est compliqué autrement étant donné que celui-ci dépend de la période de gestation.
---
```{r}
library(ggplot2)

ggplot(df, aes(x = Gestational_age, y = Weight)) +
        geom_point() +
        ggtitle("Scatter plot of Weight vs Gestational_age") +
        xlab("Gestational_age") +
        ylab("Weight")
```

---
#Préparation des données pour le modèle

## 1- Encodage des variables catégorielles

Il existe une variable catégorielle dans notre jeu de données, le sexe de l'enfant. Nous allons l'encoder en utilisant la méthode de one-hot encoding.
---

```{r}
library(mltools)
library(data.table)

df$Sex <- as.factor(df$Sex)
df_e <- one_hot(as.data.table(df))
head(df_e)

```
---
## 2- Normalisation et standardisation

Nous allons normaliser les variables numériques pour les mettre à la même échelle.
La fonction scale centre et réduit les données (moyenne de 0 et écart-type de 1)
---
```{r}
df_s <- scale(df_e, center = TRUE, scale = TRUE)
```
```{r}


```
```{r}


```
```{r}

```

```{r}	```
```{r}	```


